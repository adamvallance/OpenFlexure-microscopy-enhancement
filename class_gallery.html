<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cellUview: Gallery Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="custom.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="cellUview_logo_big.png"/></td>
  <td id="projectalign">
   <div id="projectname">cellUview<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">A real-time image processing and analysis suite for digital microscopy.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_gallery-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Gallery Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9bff4d98f41247568b68422752d3e75f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gallery.html#a9bff4d98f41247568b68422752d3e75f">Gallery</a> ()</td></tr>
<tr class="separator:a9bff4d98f41247568b68422752d3e75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a65b916b7fb06b753a69c404e66987"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gallery.html#a72a65b916b7fb06b753a69c404e66987">captureFrame</a> (<a class="el" href="classframe.html">frame</a>, bool flatfield=false, int flatFieldCounter=0)</td></tr>
<tr class="separator:a72a65b916b7fb06b753a69c404e66987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b4879daecb8808cfaf3f8f99c76d348"><td class="memItemLeft" align="right" valign="top"><a id="a5b4879daecb8808cfaf3f8f99c76d348" name="a5b4879daecb8808cfaf3f8f99c76d348"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>updateImgName</b> (std::string)</td></tr>
<tr class="separator:a5b4879daecb8808cfaf3f8f99c76d348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2893fa1b10fe346ac865cf8da0d5f08d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gallery.html#a2893fa1b10fe346ac865cf8da0d5f08d">updateIndex</a> ()</td></tr>
<tr class="separator:a2893fa1b10fe346ac865cf8da0d5f08d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f615f26aa87600361856273d2e129b2"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gallery.html#a2f615f26aa87600361856273d2e129b2">getMetadata</a> (std::string=&quot;&quot;)</td></tr>
<tr class="separator:a2f615f26aa87600361856273d2e129b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219722e7c6db614fad9eb055d2d79036"><td class="memItemLeft" align="right" valign="top"><a id="a219722e7c6db614fad9eb055d2d79036" name="a219722e7c6db614fad9eb055d2d79036"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getPathname</b> ()</td></tr>
<tr class="separator:a219722e7c6db614fad9eb055d2d79036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5b3fc09eb83462d9be010a758de18e"><td class="memItemLeft" align="right" valign="top"><a id="a5c5b3fc09eb83462d9be010a758de18e" name="a5c5b3fc09eb83462d9be010a758de18e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getCaptureFname</b> ()</td></tr>
<tr class="separator:a5c5b3fc09eb83462d9be010a758de18e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9274f4fbfac464afbd307d6b61d69e42"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::pair&lt; std::string, cv::Mat &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gallery.html#a9274f4fbfac464afbd307d6b61d69e42">getCaptures</a> (bool)</td></tr>
<tr class="separator:a9274f4fbfac464afbd307d6b61d69e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb50fc90d45c00f9b2580b236f2e33fb"><td class="memItemLeft" align="right" valign="top"><a id="acb50fc90d45c00f9b2580b236f2e33fb" name="acb50fc90d45c00f9b2580b236f2e33fb"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>galleryAtEnd</b> ()</td></tr>
<tr class="separator:acb50fc90d45c00f9b2580b236f2e33fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac81e9c6239cf5ce6189787d8cec65b"><td class="memItemLeft" align="right" valign="top"><a id="a4ac81e9c6239cf5ce6189787d8cec65b" name="a4ac81e9c6239cf5ce6189787d8cec65b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getGalleryDisplayFname</b> (int)</td></tr>
<tr class="separator:a4ac81e9c6239cf5ce6189787d8cec65b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9bff4d98f41247568b68422752d3e75f" name="a9bff4d98f41247568b68422752d3e75f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bff4d98f41247568b68422752d3e75f">&#9670;&#160;</a></span>Gallery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Gallery::Gallery </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initialises gallery file paths, directories, and indexing of the capture counter which is preserved between runs of cellUview </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a72a65b916b7fb06b753a69c404e66987" name="a72a65b916b7fb06b753a69c404e66987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a65b916b7fb06b753a69c404e66987">&#9670;&#160;</a></span>captureFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Gallery::captureFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classframe.html">frame</a>&#160;</td>
          <td class="paramname"><em>capFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>updateFlatField</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flatFieldCounter</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Captures a frame and saves into the appropriate gallery directory </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">capFrame</td><td>Frame structure containing metadata and cv::Mat of image </td></tr>
    <tr><td class="paramname">updateFlatField</td><td>optional and if true captures into the flatfield directory, defaults to false and captures into main gallery directory </td></tr>
    <tr><td class="paramname">flatFieldCounter</td><td>Adds index of the number of flat field counter as this will be called sequentially </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9274f4fbfac464afbd307d6b61d69e42" name="a9274f4fbfac464afbd307d6b61d69e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9274f4fbfac464afbd307d6b61d69e42">&#9670;&#160;</a></span>getCaptures()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; std::pair&lt; std::string, cv::Mat &gt; &gt; Gallery::getCaptures </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>directionIsNext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Loads saved captures and notes to form list of pairs to provide to gui for display Keeps track of gallery location, checking at extremes to not load non existent captures. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directionIsNext</td><td>if true gets the next four saved captures, otherwise the previous. <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>stringCapPairs a list of pairs of strings (labels) and cv::Mat (image) </dd></dl>

</div>
</div>
<a id="a2f615f26aa87600361856273d2e129b2" name="a2f615f26aa87600361856273d2e129b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f615f26aa87600361856273d2e129b2">&#9670;&#160;</a></span>getMetadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, std::string &gt; Gallery::getMetadata </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>fname</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This reads back the saved metadata in a capture using cpp_exiftool </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>Frame structure containing metadata and cv::Mat of image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>restoredParams a map of the paramater and value as defined in <a class="el" href="frame_8h_source.html">frame.h</a> </dd></dl>

</div>
</div>
<a id="a2893fa1b10fe346ac865cf8da0d5f08d" name="a2893fa1b10fe346ac865cf8da0d5f08d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2893fa1b10fe346ac865cf8da0d5f08d">&#9670;&#160;</a></span>updateIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Gallery::updateIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Iterates through items in gallery directory to find the highest index of captureXYZ.jpg where XYZ is an integer counter of arbitrary length. this avoids captures being overwritten on following runs of cellUview </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>Frame structure containing metadata and cv::Mat of image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>restoredParams a map of the paramater and value as defined in <a class="el" href="frame_8h_source.html">frame.h</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="gallery_8h_source.html">gallery.h</a></li>
<li>src/gallery.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
